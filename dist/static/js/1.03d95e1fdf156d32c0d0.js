webpackJsonp([1],{"+QYQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"n3Nav",componentName:"n3Nav",mixins:[{methods:{dispatch(t,e,n){for(var i=this.$parent||this.$root,a=i.$options.componentName;i&&(!a||a!==t);)(i=i.$parent)&&(a=i.$options.componentName);i&&i.$emit.apply(i,[e].concat(n))},broadcast(t,e,n){(function t(e,n,i){this.$children.forEach(a=>{a.$options.componentName===e?a.$emit.apply(a,[n].concat(i)):t.apply(a,[e,n].concat([i]))})}).call(this,t,e,n)}}}],props:{mode:{type:String,default:"vertical"},defaultActive:{type:[String,Number],default:""},defaultOpeneds:Array,theme:{type:String,default:"light"},uniqueOpened:Boolean,router:Boolean,trigger:{type:String,default:"hover"},prefixCls:{type:String,default:"n3"}},computed:{classObj(){let{prefixCls:t,mode:e,theme:n}=this,i={};return i[`${t}-nav-horizontal`]="horizontal"===e,i[`${t}-nav-dark`]="dark"===n,i[`${t}-nav`]=!0,i}},data(){return{activedIndex:this.defaultActive,openedMenus:this.defaultOpeneds?this.defaultOpeneds.slice(0):[],items:{},submenus:{}}},watch:{defaultActive(t){const e=this.items[t];e?(this.activedIndex=e.index,this.initOpenedMenu()):this.activedIndex=""},defaultOpeneds(t){this.openedMenus=t}},methods:{addItem(t){this.$set(this.items,t.index,t)},removeItem(t){delete this.items[t.index]},addSubmenu(t){this.$set(this.submenus,t.index,t)},removeSubmenu(t){delete this.submenus[t.index]},openMenu(t,e){let n=this.openedMenus;-1===n.indexOf(t)&&(this.uniqueOpened&&(this.openedMenus=n.filter(t=>-1!==e.indexOf(t))),this.openedMenus.push(t))},closeMenu(t,e){this.openedMenus.splice(this.openedMenus.indexOf(t),1)},handleSubmenuClick(t){const{index:e,indexPath:n}=t;-1!==this.openedMenus.indexOf(e)?(this.closeMenu(e,n),this.$emit("close",e,n)):(this.openMenu(e,n),this.$emit("open",e,n))},handleItemClick(t){let{index:e,indexPath:n}=t;this.activedIndex=t.index,this.$emit("select",e,n,t),"horizontal"===this.mode&&(this.openedMenus=[]),this.router&&this.routeToItem(t)},initOpenedMenu(){const t=this.activedIndex,e=this.items[t];if(!e||"horizontal"===this.mode)return;e.indexPath.forEach(t=>{let e=this.submenus[t];e&&this.openMenu(t,e.indexPath)})},routeToItem(t){let e=t.route||t.index;try{this.$router.push(e)}catch(t){console.error(t)}}},mounted(){this.initOpenedMenu(),this.$on("item-click",this.handleItemClick),this.$on("submenu-click",this.handleSubmenuClick)}},a={render:function(){var t=this.$createElement;return(this._self._c||t)("ul",{class:this.classObj},[this._t("default")],2)},staticRenderFns:[]},s=n("VU/8")(i,a,!1,null,null,null).exports,r=n("7H3K"),o={components:{N3Nav:s},name:"Sidebar",data(){return{activeIndex:this.$route.path,ab:[],list:r.a}},mounted(){},created(){if(0===this.$store.state.navbar.length){let t={id:0,title:"用户管理",path:"/demo/functional/user"};this.$store.commit("addNavbar",t),this.$router.push({path:"/demo/functional/user"})}},methods:{handleSelect(){},changeNav(t,e){let n={id:this.$store.state.navbar.length,title:e.title,path:"/demo"+t.rootRouter+e.router};this.check(n)||this.$store.commit("addNavbar",n)},check(t){let e=!1;return this.$store.state.navbar.forEach((n,i)=>{n.title===t.title&&(e=!0)}),e}},watch:{$route(t,e){this.activeIndex=this.$route.path}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[n("n3-nav",{attrs:{"default-active":t.activeIndex,mode:"vertical",router:""},on:{select:t.handleSelect}},t._l(t.list,function(e,i){return n("n3-sub-nav",{key:e.id,attrs:{index:i+1}},[n("template",{slot:"title"},[n("n3-icon",{attrs:{type:e.icon}}),t._v("\n                "+t._s(e.title)+"\n            ")],1),t._v(" "),t._l(e.subList,function(i){return n("n3-nav-item",{key:i.id,attrs:{index:"/demo"+e.rootRouter+i.router},on:{click:function(n){t.changeNav(e,i)}}},[t._v(t._s(i.title)+"\n            ")])})],2)}))],1)},staticRenderFns:[]};var c=n("VU/8")(o,u,!1,function(t){n("5lCT")},null,null).exports,l=n("7+uW"),d={name:"Navbar",data(){return{items:this.$store.state.navbar,curRouter:""}},methods:{changeTarget(t,e){let n=this;this.$nextTick(function(){n.items.forEach(function(t){l.default.set(t,"active",!1)}),l.default.set(t,"active",!0),n.curRouter=t.path}),n.$router.push({path:t.path})},initTarget(){let t=this;t.items.forEach(function(e){e.path===t.$route.path?(l.default.set(e,"active",!0),t.curRouter=e.path):l.default.set(e,"active",!1)})},removeTarget(t,e){t.cancelBubble=!0,this.$store.state.navbar.length>1&&(this.curRouter===this.items[e].path&&(0===parseInt(e)?this.$router.push({path:this.$store.state.navbar[parseInt(e)+1].path}):this.$router.push({path:this.$store.state.navbar[parseInt(e)-1].path})),this.$store.commit("removeNavbar",e))}},created(){},mounted(){this.initTarget()},watch:{$route(t,e){this.initTarget()}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("ul",t._l(t.items,function(e,i){return n("li",{class:{active:e.active},on:{click:function(n){t.changeTarget(e,i)}}},[n("span",{staticClass:"noselect",attrs:{unselectable:"on"}},[t._v(t._s(e.title))]),t._v(" "),n("n3-icon",{staticClass:"icon",attrs:{type:"times-circle"},nativeOn:{click:function(n){t.removeTarget(n,e.id)}}})],1)}))])},staticRenderFns:[]};var p={name:"FunctionalIndex",data:()=>({}),components:{vSidebar:c,vNavbar:n("VU/8")(d,h,!1,function(t){n("LF/w")},null,null).exports},methods:{tabChange(t,e){}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"functional-index"},[e("v-sidebar"),this._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"content"},[e("v-navbar"),this._v(" "),e("div",{staticClass:"page-content"},[e("keep-alive",[e("router-view")],1)],1)],1)])],1)},staticRenderFns:[]};var v=n("VU/8")(p,m,!1,function(t){n("t+oT")},"data-v-418eddba",null);e.default=v.exports},"5lCT":function(t,e){},"7H3K":function(t,e,n){"use strict";e.a=[{title:"管理员管理",icon:"tags",target:1,rootRouter:"/functional",defaultPath:"/user",subList:[{title:"用户管理",router:"/user"},{title:"权限管理",router:"/authority"}]},{title:"数据管理",icon:"bars",target:2,rootRouter:"/functional",defaultPath:"/datalocking",subList:[{title:"数据锁定",router:"/datalocking"},{title:"数据源",router:"/datasource"},{title:"企业标准",router:"/enterprisestandard"}]}]},"LF/w":function(t,e){},"t+oT":function(t,e){}});
//# sourceMappingURL=1.03d95e1fdf156d32c0d0.js.map